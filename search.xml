<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>halojdw</title>
      <link href="/2019/01/17/php%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E7%AF%87%E4%B9%8B%E4%BC%AA%E5%8D%8F%E8%AE%AE/"/>
      <url>/2019/01/17/php%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E7%AF%87%E4%B9%8B%E4%BC%AA%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="代码审计之伪协议"><a href="#代码审计之伪协议" class="headerlink" title="代码审计之伪协议"></a><strong>代码审计之伪协议</strong></h1><p><em>有四种常见伪协议：</em></p><ol><li>file://协议 </li><li>php://filter协议 </li><li>php://input协议 </li><li>data://协议</li></ol><h3 id="file-协议"><a href="#file-协议" class="headerlink" title="file://协议 :"></a>file://协议 :</h3><p><em>用于访问本地系统文件</em></p><p><a href="">[img]http://thyrsi.com/t6/659/1547730862x2890202953.png[/img]</a></p><p><em>首先创建一个可控的php文件</em></p><p><a href="">http://thyrsi.com/t6/659/1547730862x2890202953.png</a></p><p><em>然后再生成一个1.txt的文档</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/3.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/3.png</a></p><p><em>然后打开phpstudy  进入浏览器进入到file.php里并输入以下内容便可以达到目的</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/4.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/4.png</a></p><h3 id="php-filter协议"><a href="#php-filter协议" class="headerlink" title="php://filter协议:"></a>php://filter协议:</h3><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/5.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/5.png</a></p><p><em>直接在浏览器加上以下内容</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/6.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/6.png</a></p><h3 id="php-input协议"><a href="#php-input协议" class="headerlink" title="php://input协议:"></a>php://input协议:</h3><p><em>可以访问原始数据的只读流</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/7.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/7.png</a></p><p><em>输入以下内容便能执行代码执行的功能</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/8.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/8.png</a></p><p><em>同理，我们也可以写入一个文件  代码如下：</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/9.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/9.png</a></p><p><em>同理，我们是不是可以写入一句话木马，然后用菜刀连接</em></p><h3 id="data-协议："><a href="#data-协议：" class="headerlink" title="data://协议："></a>data://协议：</h3><p><em>数据</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/10.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/10.png</a></p><p><em>执行代码如下：</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/11.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/11.png</a></p><p><em>如果想执行bs64的话就在后面加上bs64就好了</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/12.png" target="_blank" rel="noopener">http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/12.png</a></p><p>  注：一步一步的成长</p>]]></content>
      
      
      
    </entry>
    
  
  
</search>
